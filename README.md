# REA ROBOT SIMULATOR CHALLENGE

A command line application built with nodejs. The application input is defined in an input file. Details about how to use input file can be found in run in development and run in production section.

## Getting Started

These instructions will get you a copy of the project up and running on your local machine for development and testing purposes

### Environment

Node 10

```
Node 10
```
Install node 10 in your machine

```bash
# Using Ubuntu
curl -sL https://deb.nodesource.com/setup_10.x | sudo -E bash -
sudo apt-get install -y nodejs

# Using Debian, as root
curl -sL https://deb.nodesource.com/setup_10.x | bash -
apt-get install -y nodejs

# Using Mac

brew install node
```

### Installing

In project root directory, install all node modules

```
[project_root_directory]npm i
```

## Run application in development mode

In project root directory, run:

```
[project_root_directory]$ npm start
```

The command will compile source code to a bundle file with webpack and run the app with input.txt as input file which can be found in project root directory.

## Input file format

Input file content should look like:

```
["PLACE 0,0,NORTH","MOVE","REPORT"]
```

Then command sequence will be

```
PLACE 0,0,NORTH
MOVE
REPORT
```

Output

```
0,1,NORTH
```

## Running unit tests

In project root directory, run

```
[project_root_directory]$ npm run test
```

Test coverage report can be generated by istanbul, run

```
[project_root_directory]$ npm run test:coverage
```

After run above command, test coverage report can be found by open following file in a browser:

```
[project_root]/coverage/lcov-report/src/index.html
```

Test coverage report in commandline:

```
=============================== Coverage summary ===============================
Statements   : 97.83% ( 135/138 )
Branches     : 96% ( 72/75 )
Functions    : 100% ( 14/14 )
Lines        : 97.76% ( 131/134 )
================================================================================
```

### end to end tests

End to end testing will run against development enviornment. Run

```
[project_root_directory]$ npm run test:e2e
```

`testData.e2e.json` defines many test command sequences with their corresponding expected output. End to end testing will read this file, for each test case, it will override command sequence to `input.txt`, run against `npm start`, and check against with expected output defined in `testData.e2e.json`.

### Production release

The application can be built and deployed as an independent command in terminal `(node 10)`, run

```
[project_root_directory]$ npm run production
```

After run above command, following command will be available in your ternimal:

```
$ toy-robot-simulator [absolute_input_file_path]
```

To uninstall the command from your terminal, run:

```
$ npm run uninstallApp
```

## Built With

* [Webpack](https://webpack.js.org/) - Bundle source code
* [Mocha](https://mochajs.org/) - Test framework
* [Sinon](https://sinonjs.org/) - Used to stub mock in testing
* [Chai](http://www.chaijs.com/) - BDD/TDD assert library
* [istanbul](https://github.com/istanbuljs) - Code coverage report tool

## Acknowledgments

* All copy rights reserved
